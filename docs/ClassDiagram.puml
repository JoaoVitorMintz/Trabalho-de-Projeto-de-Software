@startuml ClassDiagram
' =============================
' Classes de Sensores
' =============================
class Sensor {
  - NUMBER idSensor
  - VARCHAR2 tipo
  + BOOLEAN validarSensores()
}

class SensorTemperatura {
  - NUMBER temperatura
  + BOOLEAN validarTemperatura()
}

class SensorUmidade {
  - NUMBER umidade
  + BOOLEAN validarUmidade()
}

class SensorInfravermelho {
  - BOOLEAN ativo
  + BOOLEAN validarPragas()
}

Sensor <|-- SensorTemperatura
Sensor <|-- SensorUmidade
Sensor <|-- SensorInfravermelho

' =============================
' Classes de Drones e MissÃµes
' =============================
class Drone {
  - NUMBER idDrone
  - VARCHAR2 status
  - LIST<Sensor> sensores
  + VOID atualizarStatus(VARCHAR2 novoStatus)
}

class MissoesVoo {
  - DATE data
  - VARCHAR2 idMissao
  - NUMBER duracao
  - CadastroArea area
  - Drone drone
  + VOID atribuirDrone(Drone drone)
  + BOOLEAN verificarSobreposicao()
}

class CadastroArea {
  - NUMBER tamanho
  - VARCHAR2 localizacao
  - VARCHAR2 tipoCultivo
}

class RegistroDados {
  - LIST<BLOB> imagens
  - LIST<NUMBER> valoresSensores
  + VOID salvarDados()
}

class Relatorio {
  - LIST<NUMBER> medicoes
  - NUMBER qtdVoo
  + VOID gerarResumo()
}

Drone "1" --> "1..*" Sensor
MissoesVoo "1" --> "1" Drone
MissoesVoo "1" --> "1" CadastroArea
MissoesVoo "1" --> "1" RegistroDados
RegistroDados "1" --> "1" Relatorio

' =============================
' Outras Classes
' =============================
class Autorizacao {
  - VARCHAR2 senhaHash
  - VARCHAR2 token
  - VARCHAR2 role
  + VARCHAR2 verificarRole()
  + BOOLEAN validarSenha(VARCHAR2 senhaDigitada)
  + BOOLEAN validarToken(VARCHAR2 tokenRecebido)
}

class Checklist {
  - NUMBER nivelBateria
  - LIST<BOOLEAN> sensoresFunc
  + BOOLEAN validarChecklist()
}

Checklist "1" --> "1" MissoesVoo

class Usuario {
  - NUMBER userID
  - VARCHAR2 nome
  - VARCHAR2 email
  + BOOLEAN fazerLogin(VARCHAR2 senha)
  + BOOLEAN validarEmail()
}

class Administrador {
  + VOID gerenciarSistema()
}

class Operador {
  + VOID operarDrone()
}

Usuario <|-- Administrador
Usuario <|-- Operador
Usuario "1" --> "0..1" Autorizacao

@enduml
